export const metadata = {
  title: '[Gold IV] 함께 블록 쌓기 - 18427',
  date: '2025-06-25 09:11:37',
  tags: ['다이나믹 프로그래밍', '집합과 맵', '배낭 문제'],
  description: '[Gold IV] 함께 블록 쌓기 - 18427',
};

# [Gold IV] 함께 블록 쌓기 - 18427 

[문제 링크](https://www.acmicpc.net/problem/18427) 

### 성능 요약

메모리: 34456 KB, 시간: 208 ms

### 분류

다이나믹 프로그래밍, 집합과 맵, 배낭 문제

### 제출 일자

2025년 6월 25일 18:11:18

### 문제 설명

1번부터 N번까지의 학생들은 각각 블록들을 가지고 있다. 학생마다 최대 M개의 블록을 가지고 있을 수 있으며, 한 명의 학생이 가지고 있는 모든 블록들의 높이는 서로 다르다. 이 때 1번부터 N번까지의 학생들이 가진 블록을 차례대로 사용하여 바닥에서부터 쌓아올려 하나의 탑을 만들고자 한다.

단, 어떤 학생의 블록은 사용하지 않아도 되며 한 학생당 최대 1개의 블록만을 사용할 수 있다.

1번부터 N번까지의 학생들이 가지고 있는 블록들에 대한 정보가 주어졌을 때, 높이가 정확히 H인 탑을 만들 수 있는 경우의 수를 계산하는 프로그램을 작성하시오.

예를 들어 N=3, M=3, H=5일 때, 각 학생마다 가지고 있는 블록들의 높이가 다음과 같다고 가정하자.

	1번 학생: 2, 3, 5
	2번 학생: 3, 5
	3번 학생: 1, 2, 3

이 때, 탑의 높이가 정확히 5가 되도록 블록을 쌓는 경우로는 다음의 6가지가 존재한다. (블록을 사용하지 않는 경우는 X로 표시하였다.)

![그림](https://upload.acmicpc.net/82b228be-4bf3-4a38-95e3-a2238e9bb4ff/-/preview/)

### 입력 

 첫째 줄에 자연수 N, M, H가 공백을 기준으로 구분되어 주어진다. (1 ≤ N ≤ 50, 1 ≤ M ≤ 10, 1 ≤ H ≤ 1,000) 둘째 줄부터 N개의 줄에 걸쳐서 각 학생이 가진 블록들의 높이가 공백을 기준으로 구분되어 주어진다.

단, 모든 블록의 높이는 1,000 이하의 자연수이며 한 명의 학생이 가지고 있는 모든 블록들의 높이는 서로 다르게 주어진다.

### 출력 

 첫째 줄에 높이가 H인 탑을 만드는 경우의 수를 10,007로 나눈 나머지를 출력한다.

### 풀이
```python
import sys
input = sys.stdin.readline

N, M, H = map(int, input().split())
blocks = [list(map(int, input().split())) for _ in range(N)]

dp = [[0]*(H+1) for _ in range(N+1)]
dp[0][0] = 1

for i in range(1, N+1):
    for j in range(H+1):
        dp[i][j] += dp[i-1][j]
        
        for k in blocks[i-1]:
            if j >= k:
                dp[i][j] += dp[i-1][j-k]

print(dp[N][H]%10007)

'''
dp[i][h] : i번째 사람까지의 블록을 사용해서 만들 수 있는 블록의 높이가 h인 경우의 수
i번째 사람이 블록을 안쓸 경우 dp[i][h] += dp[i-1][h]
i번째 사람이 블록을 쓸 경우 가진 블록에 대해 dp[i][h] += dp[i-1][h-k]
'''
```