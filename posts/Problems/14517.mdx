export const metadata = {
  title: '[Platinum V] 팰린드롬 개수 구하기 (Large) - 14517',
  date: '2025-09-10 06:56:26',
  tags: ['다이나믹 프로그래밍', '포함 배제의 원리'],
  description: '[Platinum V] 팰린드롬 개수 구하기 (Large) - 14517',
};

# [Platinum V] 팰린드롬 개수 구하기 (Large) - 14517 

[문제 링크](https://www.acmicpc.net/problem/14517) 

### 성능 요약

메모리: 54556 KB, 시간: 500 ms

### 분류

다이나믹 프로그래밍, 포함 배제의 원리

### 제출 일자

2025년 9월 10일 15:56:03

### 문제 설명

팰린드롬(palindrome)이란 앞에서부터 읽으나 뒤에서부터 읽으나 같은 단어를 말한다. 'aba'나 'a'와 같은 단어는 팰린드롬이며, 'abaccbcb'나 'anavolimilana'와 같은 단어는 팰린드롬이 아니다.

승수는 주어진 문자열의 부분수열 중 팰린드롬이 되는 부분수열의 개수를 알고싶어한다. (공집합은 포함하지 않는다)

예를들어 'abb' 의 부분수열은 {'a'}, {'b'}, {'b'}, {'ab'}, {'ab'}, {'bb'}, {'abb'} 이고 이 가운데 팰린드롬은 {'a'}, {'b'}, {'b'}, {'bb'} 으로 4개 이다. 

문자열이 주어졌을 때, 팰린드롬이 되는 부분수열의 개수를 출력하는 프로그램을 작성하시오.

### 입력 

 첫째 줄에 길이가 1000을 넘지 않는 문자열 S 가 주어진다. 문자열 S는 알파벳 소문자로만 이루어져 있다.

### 출력 

 주어진 문자열 S 의 부분수열 중 팰린드롬이 되는 부분수열의 개수를 10,007 로 나눈 나머지를 출력한다.

### 풀이
```python
import sys
input = sys.stdin.readline
MOD = 10007

S = input().strip()
L = len(S)
dp = [[0]*L for _ in range(L)]

for i in range(L):
    dp[i][i] = 1

for k in range(1, L):
    for i in range(L-k):
        j = i+k
        dp[i][j] = (dp[i][j-1] + dp[i+1][j] - dp[i+1][j-1])%MOD
        if S[i] == S[j]:
            dp[i][j] = (dp[i][j] + dp[i+1][j-1]+1)%MOD

print(dp[0][L-1])
        
        
'''
dp[i][j] : i~j 사이에 존재하는 팰린드롬이 되는 부분 문자열의 수
dp[i][i] = 1

dp[i][j] = dp[i][j-1] + dp[i+1][j] - dp[i+1][j-1]

if S[i] == S[j] : (i,j)번째 문자만으로 팰린드롬 구성 가능
dp[i][j] += dp[i+1][j-1] + 1
'''
```